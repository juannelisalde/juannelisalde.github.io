const a0_0x338174=a0_0x17d4;(function(_0x2b6410,_0x1c83f8){const _0x5d3533=a0_0x17d4,_0x1f5e2d=_0x2b6410();while(!![]){try{const _0x298056=parseInt(_0x5d3533(0x129))/0x1+-parseInt(_0x5d3533(0x111))/0x2+-parseInt(_0x5d3533(0x108))/0x3+-parseInt(_0x5d3533(0x151))/0x4*(-parseInt(_0x5d3533(0x15b))/0x5)+parseInt(_0x5d3533(0x11d))/0x6*(-parseInt(_0x5d3533(0x134))/0x7)+parseInt(_0x5d3533(0x109))/0x8*(parseInt(_0x5d3533(0x15e))/0x9)+parseInt(_0x5d3533(0x13f))/0xa*(parseInt(_0x5d3533(0x13a))/0xb);if(_0x298056===_0x1c83f8)break;else _0x1f5e2d['push'](_0x1f5e2d['shift']());}catch(_0x55456c){_0x1f5e2d['push'](_0x1f5e2d['shift']());}}}(a0_0x20e9,0x55bb0));function a0_0x20e9(){const _0x7d6e23=['https://citas.usiese.gov.co:6007/api/Generales/ApiGeReporteGenerado/ExportarReporte','padStart','html','application/json','getUTCDate','CARIES\x20DE\x20LA\x20DENTINA','Fechas\x20copiadas\x20al\x20portapapeles','split','6HDHRDe','removeClass','hidden','some','style','DOCUMENTO','#downloadCSV','getItem','POST','URGENCIAS','replace','body','256318MFjfuB','#resultContainerFormatDatesCard','NFD','#formDownloadDates','forEach','Bearer\x20','TRIAGE','readAsArrayBuffer','utils','normalize','filter','2059939gCpiyh','appendChild','</p>','sheet_to_json','length','catch','11yvQNKx','blob','then','createObjectURL','No\x20se\x20pudieron\x20copiar\x20las\x20fechas','6846940feoclo','setAttribute','read','Fecha\x20inválida','#resultContainerFormatDates','submit','error','CONSULTA\x20EXTERNA','parent','GET','append','includes','empty','click','No\x20hay\x20datos\x20para\x20descargar.','href','push','ODONTOLOGIA\x20GENERAL','12WjBnbN','No\x20se\x20encontraron\x20documentos\x20válidos.','array','#copyFormattedDates','setItem','.results','<p>','Error\x20al\x20obtener\x20el\x20documento:','toUpperCase','map','613995PFoJxN','textarea','No\x20hay\x20fechas\x20formateadas\x20para\x20copiar','1537317BLRmvx','https://citas.usiese.gov.co:6007/api/HistoriaClinica/HistoriaClinicaConsulta/ObtenerHistoricoFolios/?oidIngreso=0&directivas=true&hcUnificada=false&id=','result','input','addClass','text','<p><b>PACNUMDOC;\x20NOMBRE;\x20SEXO;\x20EDAD_ACTUAL;\x20EDAD_SERVICIO;\x20SIPCODIGO;\x20SIPNOMBRE;\x20SERFECSER</b></p>','#dates','https://citas.usiese.gov.co:6007/api/Generales/ApiGeSeguridad/IniciarSesionCentroAtencion','children','ajax','d-none','.clean','onload',';\x20sin\x20PM</p>','getElementById','#resultContainerDownloadDates','String','sort','find','text/csv;charset=utf-8;','data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,','stringify','trim','val','download','target','GENPACIEN.PACNUMDOC\x20=','@DOCUMENTO','join','each','removeChild','.csv','1055706rvRoag','8snDfUz','visibility','createElement','#spinner','</br>','writeText','SheetNames','Error\x20al\x20procesar\x20los\x20documentos:','965782rrfTRg','token','Activo','preventDefault'];a0_0x20e9=function(){return _0x7d6e23;};return a0_0x20e9();}const hostLogin=a0_0x338174(0x166),dataLogin={'oidUsuario':0x1,'oidCentroAtencion':0x1},hostDocument=a0_0x338174(0x115),hostFolio=a0_0x338174(0x15f);let allData=[];const noPrintEspecialidad=[a0_0x338174(0x150)],noPrintDiagnostico=[a0_0x338174(0x11a)],noImprimir=[a0_0x338174(0x146),a0_0x338174(0x126),a0_0x338174(0x12f)],showSpinner=()=>{const _0x2cab12=a0_0x338174;$(_0x2cab12(0x10c))[_0x2cab12(0x11e)](_0x2cab12(0x169));},hideSpinner=()=>{const _0x4269cf=a0_0x338174;$(_0x4269cf(0x10c))[_0x4269cf(0x162)]('d-none');};function a0_0x17d4(_0x55f0eb,_0x4d58f1){const _0x20e9b1=a0_0x20e9();return a0_0x17d4=function(_0x17d452,_0x26af27){_0x17d452=_0x17d452-0x107;let _0x17c8f0=_0x20e9b1[_0x17d452];return _0x17c8f0;},a0_0x17d4(_0x55f0eb,_0x4d58f1);}$(a0_0x338174(0x16a))['on']('click',function(){const _0x67e2cf=a0_0x338174;$(this)[_0x67e2cf(0x147)]()['find'](_0x67e2cf(0x161))[_0x67e2cf(0x176)](''),$(this)[_0x67e2cf(0x147)]()[_0x67e2cf(0x171)](_0x67e2cf(0x15c))[_0x67e2cf(0x176)](''),$(_0x67e2cf(0x156))[_0x67e2cf(0x162)](_0x67e2cf(0x169));}),$('#documents')['on'](a0_0x338174(0x161),function(){const _0xa6e0b7=a0_0x338174,_0x2eaa7f=/^[0-9,\s]*$/;let _0x2c80c2=$(this)[_0xa6e0b7(0x176)]();_0x2c80c2=_0x2c80c2[_0xa6e0b7(0x127)](/[\n\r]+/g,','),!_0x2eaa7f['test'](_0x2c80c2)&&(_0x2c80c2=_0x2c80c2[_0xa6e0b7(0x127)](/[^0-9,\s,]/g,'')),$(this)[_0xa6e0b7(0x176)](_0x2c80c2);}),$(a0_0x338174(0x12c))['on'](a0_0x338174(0x144),async function(_0x274482){const _0x2911f0=a0_0x338174;_0x274482['preventDefault'](),$(_0x2911f0(0x16e))[_0x2911f0(0x14b)](),allData=[];let _0x8fbf5d=$('#documents')[_0x2911f0(0x176)]()[_0x2911f0(0x11c)](',');_0x8fbf5d=_0x8fbf5d[_0x2911f0(0x15a)](_0xcfaa91=>_0xcfaa91[_0x2911f0(0x175)]()),_0x8fbf5d[_0x2911f0(0x170)]((_0xd8f22c,_0x574587)=>_0xd8f22c-_0x574587),_0x8fbf5d=[...new Set(_0x8fbf5d)],_0x8fbf5d=_0x8fbf5d[_0x2911f0(0x133)](_0x3af09a=>_0x3af09a!==''&&_0x3af09a['length']>0x0);if(_0x8fbf5d[_0x2911f0(0x138)]===0x0){alert(_0x2911f0(0x152));return;}showSpinner();try{await Promise['all'](_0x8fbf5d['map'](_0x250280=>getDocument(_0x250280))),$('#resultContainerDownloadDatesCard')[_0x2911f0(0x11e)]('d-none'),hideSpinner();}catch(_0x3708cc){console[_0x2911f0(0x145)](_0x2911f0(0x110),_0x3708cc),hideSpinner();}}),$(a0_0x338174(0x123))['on'](a0_0x338174(0x14c),function(){const _0x4b8b67=a0_0x338174;if($(_0x4b8b67(0x16e))['children']()['length']===0x0){alert(_0x4b8b67(0x14d));return;}exportResultContainerToCSV('Resultado.csv');});const getToken=()=>{const _0x569d39=a0_0x338174;if(localStorage['getItem']('token'))return localStorage[_0x569d39(0x124)](_0x569d39(0x112));$[_0x569d39(0x168)]({'url':hostLogin,'type':_0x569d39(0x125),'contentType':_0x569d39(0x118),'data':JSON['stringify'](dataLogin),'success':function(_0x3fb4c3){const _0x186c47=_0x569d39,_0x42df0c=_0x3fb4c3[_0x186c47(0x112)];return localStorage[_0x186c47(0x155)](_0x186c47(0x112),_0x42df0c),_0x42df0c;},'error':function(_0x484b0d){const _0x1a96b3=_0x569d39;return console[_0x1a96b3(0x145)]('Error\x20al\x20obtener\x20el\x20token:',_0x484b0d),null;}});},getParams=_0x746b61=>{const _0x3a394f=a0_0x338174;return encodeURIComponent(JSON[_0x3a394f(0x174)]({'Nombre':'SERVICIOS\x20PRESTADOS\x20A\x20PACIENTES','Descripcion':'SERVICIOS\x20PRESTADOS\x20A\x20PACIENTES','SentenciaSQL':'','Estado':_0x3a394f(0x113),'Parametros':[{'Nombre':_0x3a394f(0x122),'Campo':_0x3a394f(0x179),'Tipo':_0x3a394f(0x16f),'DbNombre':'DOCUMENTO','DbNombreCompleto':_0x3a394f(0x17a),'DbTamano':0x1e,'DbTipo':'String','Valor':_0x746b61,'Oid':0x1,'IdBloqueo':null,'RegistroEliminado':![],'OidResult':null}],'formato':'XLSX\x20PLANO','SerializadoXml':!![],'Oid':0x1a,'IdBloqueo':null,'RegistroEliminado':![],'OidResult':null}));},readExcelFromBlob=_0xb7837c=>{const _0x4d006b=a0_0x338174,_0x4a944d=new FileReader();_0x4a944d[_0x4d006b(0x16b)]=function(_0x3d952e){const _0x1506c8=_0x4d006b,_0x29f94a=new Uint8Array(_0x3d952e[_0x1506c8(0x178)][_0x1506c8(0x160)]),_0x337c70=XLSX[_0x1506c8(0x141)](_0x29f94a,{'type':_0x1506c8(0x153)}),_0x3144fc=_0x337c70[_0x1506c8(0x10f)][0x0],_0x1f466b=_0x337c70['Sheets'][_0x3144fc],_0x47e1e7=XLSX[_0x1506c8(0x131)]['sheet_to_json'](_0x1f466b,{'header':0x1});_0x47e1e7[_0x1506c8(0x12d)]((_0x44f1c5,_0x517185)=>{const _0x31a8bc=_0x1506c8;if(_0x517185>0x0){let _0x341dc3=_0x44f1c5[0x1],_0x528c64=_0x44f1c5[0x2]+'\x20'+_0x44f1c5[0x3]+'\x20'+_0x44f1c5[0x4]+'\x20'+_0x44f1c5[0x5],_0x5c36bb=_0x44f1c5[0x6],_0x2b32ec=_0x44f1c5[0x8],_0x4d4abb=_0x44f1c5[0x9],_0x1fddbe=_0x44f1c5[0x14],_0x330f6c=_0x44f1c5[0x15],_0x15505f=excelDateToJSDate(_0x44f1c5[0x1e]);$(_0x31a8bc(0x16e))[_0x31a8bc(0x149)](_0x31a8bc(0x157)+_0x341dc3+',\x20'+_0x528c64+',\x20'+_0x5c36bb+',\x20'+_0x2b32ec+',\x20'+_0x4d4abb+',\x20'+_0x1fddbe+',\x20'+_0x330f6c+',\x20'+excelDateToJSDate(_0x15505f)+_0x31a8bc(0x136));}});},_0x4a944d[_0x4d006b(0x130)](_0xb7837c);},excelDateToJSDate=_0x239b24=>{const _0x48078e=a0_0x338174,_0x531ab8=_0x239b24-0x63e1,_0x1fd6d1=_0x531ab8*0x15180,_0x54b42a=new Date(_0x1fd6d1*0x3e8),_0x5cfa8a=String(_0x54b42a[_0x48078e(0x119)]())['padStart'](0x2,'0'),_0x323407=String(_0x54b42a['getUTCMonth']()+0x1)[_0x48078e(0x116)](0x2,'0'),_0x39fa41=_0x54b42a['getUTCFullYear']();return _0x5cfa8a+'/'+_0x323407+'/'+_0x39fa41;},getDocument=_0x55213c=>{const _0x3d538e=a0_0x338174;return $(_0x3d538e(0x16e))[_0x3d538e(0x167)]()[_0x3d538e(0x138)]===0x0&&$(_0x3d538e(0x16e))[_0x3d538e(0x149)](_0x3d538e(0x164)),new Promise(_0xccae1d=>{const _0x5f113e=_0x3d538e;$[_0x5f113e(0x168)]({'url':hostDocument,'type':_0x5f113e(0x148),'headers':{'repparams':getParams(_0x55213c),'Authorization':_0x5f113e(0x12e)+getToken()},'xhrFields':{'responseType':_0x5f113e(0x13b)},'success':function(_0x2ebb6a){const _0x52c7b7=_0x5f113e,_0x448b1e=new FileReader();_0x448b1e['onload']=function(_0x5523d8){const _0x29e71f=a0_0x17d4,_0x5c633a=new Uint8Array(_0x5523d8['target'][_0x29e71f(0x160)]),_0x2a628e=XLSX[_0x29e71f(0x141)](_0x5c633a,{'type':'array'}),_0x475134=_0x2a628e[_0x29e71f(0x10f)][0x0],_0x2f5f94=_0x2a628e['Sheets'][_0x475134],_0x1c734b=XLSX[_0x29e71f(0x131)][_0x29e71f(0x137)](_0x2f5f94,{'header':0x1});let _0x58c9ed=![],_0x6b31ef=[];_0x1c734b[_0x29e71f(0x12d)]((_0xe780ae,_0x20b9af)=>{const _0x1d3063=_0x29e71f;if(_0x20b9af>0x0){const _0x5a22cd=_0xe780ae[0x1],_0x44c3a6=replaceAccents(_0xe780ae[0x2]+'\x20'+_0xe780ae[0x3]+'\x20'+_0xe780ae[0x4]+'\x20'+_0xe780ae[0x5]),_0x2c750d=_0xe780ae[0x6],_0x7c6ae6=replaceAccents(_0xe780ae[0x8]),_0x368eae=replaceAccents(_0xe780ae[0x9]),_0x1bfc88=_0xe780ae[0x14],_0x157259=replaceAccents(_0xe780ae[0x15]),_0x3be079=excelDateToJSDate(_0xe780ae[0x1e]);if(noImprimir[_0x1d3063(0x120)](_0x20a2b9=>_0x157259[_0x1d3063(0x14a)](_0x20a2b9[_0x1d3063(0x159)]())))return;if(!_0x5a22cd){$('#resultContainerDownloadDates')['append']('<p>'+_0x55213c+';\x20sin\x20citas</p>'),_0x58c9ed=!![];return;}!_0x6b31ef[_0x1d3063(0x14a)](_0x1bfc88)&&$(_0x1d3063(0x16e))['append'](_0x1d3063(0x157)+_0x5a22cd+';\x20'+_0x44c3a6+';\x20'+_0x2c750d+';\x20'+_0x7c6ae6+';\x20'+_0x368eae+';\x20'+_0x1bfc88+';\x20'+_0x157259+';\x20'+_0x3be079+_0x1d3063(0x136)),_0x6b31ef[_0x1d3063(0x14f)](_0x1bfc88),_0x58c9ed=!![];}}),!_0x58c9ed&&$(_0x29e71f(0x16e))['append']('<p>'+_0x55213c+_0x29e71f(0x16c));},_0x448b1e[_0x52c7b7(0x130)](_0x2ebb6a),_0xccae1d();},'error':function(_0x31733b){const _0xd03c7e=_0x5f113e;console[_0xd03c7e(0x145)](_0xd03c7e(0x158),_0x31733b),_0xccae1d();}});});},exportResultContainerToCSV=_0x1170e8=>{const _0x1a1c54=a0_0x338174,_0x5e408e=[];$(_0x1a1c54(0x16e))['children']()[_0x1a1c54(0x17c)](function(){const _0x1c5eff=_0x1a1c54,_0x5301e4=$(this)[_0x1c5eff(0x163)]()[_0x1c5eff(0x175)]();_0x5301e4&&_0x5e408e[_0x1c5eff(0x14f)](_0x5301e4);});const _0xcf8360=_0x5e408e[_0x1a1c54(0x17b)]('\x0a'),_0x18bbd6=new Blob([_0xcf8360],{'type':_0x1a1c54(0x172)}),_0x51ce10=document[_0x1a1c54(0x10b)]('a'),_0x153321=URL[_0x1a1c54(0x13d)](_0x18bbd6);_0x51ce10['setAttribute'](_0x1a1c54(0x14e),_0x153321),_0x51ce10[_0x1a1c54(0x140)](_0x1a1c54(0x177),_0x1170e8+_0x1a1c54(0x107)),_0x51ce10[_0x1a1c54(0x121)][_0x1a1c54(0x10a)]=_0x1a1c54(0x11f),document[_0x1a1c54(0x128)][_0x1a1c54(0x135)](_0x51ce10),_0x51ce10[_0x1a1c54(0x14c)](),document[_0x1a1c54(0x128)]['removeChild'](_0x51ce10);},replaceAccents=_0x4b2c95=>{const _0xcbe3d5=a0_0x338174;if(!_0x4b2c95)return'';return _0x4b2c95[_0xcbe3d5(0x132)](_0xcbe3d5(0x12b))['replace'](/[\u0300-\u036f]/g,'');},processDates=_0x447fda=>{const _0x5212dc=a0_0x338174;return _0x447fda[_0x5212dc(0x15a)](_0x1ef989=>{const _0x14a6db=_0x5212dc,_0x1d8cd3=_0x1ef989[_0x14a6db(0x11c)]('/');if(_0x1d8cd3[_0x14a6db(0x138)]!==0x3)return _0x14a6db(0x142);let [_0x391eba,_0x5075f6,_0x2e0e76]=_0x1d8cd3['map'](_0xaf501b=>parseInt(_0xaf501b,0xa));if(_0x5075f6>0xc)return _0x5075f6+'/'+_0x391eba+'/'+_0x2e0e76;return _0x391eba+'/'+_0x5075f6+'/'+_0x2e0e76;});};$('#formFormatDates')['on']('submit',async function(_0x1d94ee){const _0x188a7c=a0_0x338174;_0x1d94ee[_0x188a7c(0x114)](),showSpinner(),$(_0x188a7c(0x143))['empty']();let _0x4d74f4=$(_0x188a7c(0x165))[_0x188a7c(0x176)]()[_0x188a7c(0x127)](/[\n\r]+/g,',')[_0x188a7c(0x11c)](',');_0x4d74f4=_0x4d74f4['map'](_0x11445a=>_0x11445a[_0x188a7c(0x175)]()),_0x4d74f4=_0x4d74f4['filter'](_0x433170=>_0x433170!=='');const _0x24c5bb=processDates(_0x4d74f4);_0x24c5bb[_0x188a7c(0x12d)](_0x526fba=>{const _0x33e064=_0x188a7c;$(_0x33e064(0x143))[_0x33e064(0x149)](_0x526fba+_0x33e064(0x10d));}),$(_0x188a7c(0x12a))[_0x188a7c(0x11e)](_0x188a7c(0x169)),hideSpinner();}),$(a0_0x338174(0x154))['on']('click',function(){const _0xd861f0=a0_0x338174,_0xbbe428=$(_0xd861f0(0x143))[_0xd861f0(0x117)]()[_0xd861f0(0x175)]();if(_0xbbe428){const _0x235b0e=_0xbbe428[_0xd861f0(0x11c)]('<br>')[_0xd861f0(0x15a)](_0x14da54=>_0x14da54[_0xd861f0(0x175)]())['filter'](_0x372f14=>_0x372f14!=='')['join']('\x0a');navigator['clipboard'][_0xd861f0(0x10e)](_0x235b0e)[_0xd861f0(0x13c)](()=>{const _0x885ef0=_0xd861f0;alert(_0x885ef0(0x11b));})[_0xd861f0(0x139)](_0xd34d29=>{const _0x399e5f=_0xd861f0;console['error']('Error\x20al\x20copiar\x20las\x20fechas:\x20',_0xd34d29),alert(_0x399e5f(0x13e));});}else alert(_0xd861f0(0x15d));}),$('#formExcel')['on']('submit',async function(_0x232d81){const _0x257697=a0_0x338174;_0x232d81[_0x257697(0x114)]();const _0x397d7a=new FormData(this),_0x2a3f78=document[_0x257697(0x16d)]('file'),_0xdf4918=_0x2a3f78['files'][0x0]['name'];showSpinner(),$['ajax']({'url':'https://tudinerodev.com/envios/pruebas/general.php','type':_0x257697(0x125),'data':_0x397d7a,'processData':![],'contentType':![],'success':function(_0x109883){const _0x33cd6e=_0x257697,_0x2747b4=document[_0x33cd6e(0x10b)]('a');_0x2747b4['href']=_0x33cd6e(0x173)+_0x109883,_0x2747b4[_0x33cd6e(0x177)]='reporte-'+_0xdf4918,document[_0x33cd6e(0x128)][_0x33cd6e(0x135)](_0x2747b4),_0x2747b4[_0x33cd6e(0x14c)](),document[_0x33cd6e(0x128)][_0x33cd6e(0x17d)](_0x2747b4),hideSpinner();},'error':function(_0x3e07bd){console['error']('Error\x20al\x20obtener\x20el\x20documento:',_0x3e07bd),hideSpinner();}});});