const a0_0x8c3abf=a0_0x48f3;function a0_0x48f3(_0x3b0fe0,_0x4c7d3e){const _0x1df6df=a0_0x1df6();return a0_0x48f3=function(_0x48f329,_0x5acfae){_0x48f329=_0x48f329-0x64;let _0x530d8e=_0x1df6df[_0x48f329];return _0x530d8e;},a0_0x48f3(_0x3b0fe0,_0x4c7d3e);}function a0_0x1df6(){const _0x34fe95=['POST','#formDownloadDates','6RWWQCo','appendChild','https://citas.usiese.gov.co:6007/api/Generales/ApiGeReporteGenerado/ExportarReporte','4lPAOGd',';\x20sin\x20citas</p>','createElement','input','submit','download','CARIES\x20DE\x20LA\x20DENTINA','target','Error\x20al\x20obtener\x20el\x20token:','addClass','stringify','length','</br>','split','739145lztmrB','data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,','<br>','<p><b>PACNUMDOC;\x20NOMBRE;\x20SEXO;\x20EDAD_ACTUAL;\x20EDAD_SERVICIO;\x20SIPCODIGO;\x20SIPNOMBRE;\x20SERFECSER</b></p>','d-none','704601eKZOuK','9754mHPVvl','#dates','sheet_to_json','https://tudinerodev.com/envios/pruebas/general.php','Error\x20al\x20obtener\x20el\x20documento:','each','DOCUMENTO','CONSULTA\x20EXTERNA','SheetNames','setAttribute','.clean','https://citas.usiese.gov.co:6007/api/HistoriaClinica/HistoriaClinicaConsulta/ObtenerHistoricoFolios/?oidIngreso=0&directivas=true&hcUnificada=false&id=','forEach','ODONTOLOGIA\x20GENERAL','file','style','SERVICIOS\x20PRESTADOS\x20A\x20PACIENTES','parent','298123UpiEiT','</p>','NFD','preventDefault','No\x20se\x20encontraron\x20documentos\x20válidos.','val','removeClass','blob','error','#resultContainerDownloadDates','normalize','getUTCDate','1000935GvzDyD','find','map','catch','append','read','replace','Bearer\x20','#documents','3247864HxxQfW','String','textarea','https://citas.usiese.gov.co:6007/api/Generales/ApiGeSeguridad/IniciarSesionCentroAtencion','includes','push','click','No\x20hay\x20fechas\x20formateadas\x20para\x20copiar','application/json','token','#resultContainerFormatDates','Fechas\x20copiadas\x20al\x20portapapeles','GET','filter','onload','ajax','padStart','utils','Activo','getItem','#formFormatDates','28faJTgv','20xZguIV','join','Error\x20al\x20copiar\x20las\x20fechas:\x20','#resultContainerDownloadDatesCard','#downloadCSV','1859562oETgJs','array','all','children','writeText','setItem','result','No\x20se\x20pudieron\x20copiar\x20las\x20fechas','body','.results','.csv','Error\x20al\x20procesar\x20los\x20documentos:','#formExcel','text','name','URGENCIAS','href','readAsArrayBuffer','some','XLSX\x20PLANO','@DOCUMENTO','<p>','removeChild','Sheets','trim','hidden','empty','getElementById'];a0_0x1df6=function(){return _0x34fe95;};return a0_0x1df6();}(function(_0x266454,_0x225f5d){const _0x23fd2f=a0_0x48f3,_0x434661=_0x266454();while(!![]){try{const _0x302243=parseInt(_0x23fd2f(0x82))/0x1*(-parseInt(_0x23fd2f(0xbd))/0x2)+-parseInt(_0x23fd2f(0xbc))/0x3*(parseInt(_0x23fd2f(0xa9))/0x4)+parseInt(_0x23fd2f(0x64))/0x5+parseInt(_0x23fd2f(0xa6))/0x6*(-parseInt(_0x23fd2f(0xcf))/0x7)+parseInt(_0x23fd2f(0x6d))/0x8+parseInt(_0x23fd2f(0x88))/0x9+parseInt(_0x23fd2f(0x83))/0xa*(-parseInt(_0x23fd2f(0xb7))/0xb);if(_0x302243===_0x225f5d)break;else _0x434661['push'](_0x434661['shift']());}catch(_0x3c47a4){_0x434661['push'](_0x434661['shift']());}}}(a0_0x1df6,0x408c2));const hostLogin=a0_0x8c3abf(0x70),dataLogin={'oidUsuario':0x1,'oidCentroAtencion':0x1},hostDocument=a0_0x8c3abf(0xa8),hostFolio=a0_0x8c3abf(0xc8);let allData=[];const noPrintEspecialidad=[a0_0x8c3abf(0xca)],noPrintDiagnostico=[a0_0x8c3abf(0xaf)],noImprimir=[a0_0x8c3abf(0xc4),a0_0x8c3abf(0x97),'TRIAGE'],showSpinner=()=>{const _0xbc8848=a0_0x8c3abf;$('#spinner')[_0xbc8848(0xd5)]('d-none');},hideSpinner=()=>{const _0xe27246=a0_0x8c3abf;$('#spinner')['addClass'](_0xe27246(0xbb));};$(a0_0x8c3abf(0xc7))['on'](a0_0x8c3abf(0x73),function(){const _0x2dab4e=a0_0x8c3abf;$(this)[_0x2dab4e(0xce)]()[_0x2dab4e(0x65)]('input')['val'](''),$(this)[_0x2dab4e(0xce)]()[_0x2dab4e(0x65)](_0x2dab4e(0x6f))[_0x2dab4e(0xd4)](''),$(_0x2dab4e(0x91))[_0x2dab4e(0xb2)](_0x2dab4e(0xbb));}),$(a0_0x8c3abf(0x6c))['on'](a0_0x8c3abf(0xac),function(){const _0x89019a=a0_0x8c3abf,_0x231f7e=/^[0-9,\s]*$/;let _0x83daeb=$(this)['val']();_0x83daeb=_0x83daeb[_0x89019a(0x6a)](/[\n\r]+/g,','),!_0x231f7e['test'](_0x83daeb)&&(_0x83daeb=_0x83daeb['replace'](/[^0-9,\s,]/g,'')),$(this)[_0x89019a(0xd4)](_0x83daeb);}),$(a0_0x8c3abf(0xa5))['on'](a0_0x8c3abf(0xad),async function(_0x1b58a1){const _0x558c95=a0_0x8c3abf;_0x1b58a1[_0x558c95(0xd2)](),$(_0x558c95(0xd8))[_0x558c95(0xa2)](),allData=[];let _0x48f1f2=$(_0x558c95(0x6c))[_0x558c95(0xd4)]()[_0x558c95(0xb6)](',');_0x48f1f2=_0x48f1f2[_0x558c95(0x66)](_0x43326d=>_0x43326d[_0x558c95(0xa0)]()),_0x48f1f2['sort']((_0x26dc81,_0x1e3dbf)=>_0x26dc81-_0x1e3dbf),_0x48f1f2=[...new Set(_0x48f1f2)],_0x48f1f2=_0x48f1f2[_0x558c95(0x7a)](_0x352cab=>_0x352cab!==''&&_0x352cab[_0x558c95(0xb4)]>0x0);if(_0x48f1f2[_0x558c95(0xb4)]===0x0){alert(_0x558c95(0xd3));return;}showSpinner();try{await Promise[_0x558c95(0x8a)](_0x48f1f2[_0x558c95(0x66)](_0x2a4ba2=>getDocument(_0x2a4ba2))),$(_0x558c95(0x86))[_0x558c95(0xd5)](_0x558c95(0xbb)),hideSpinner();}catch(_0x37dfbf){console[_0x558c95(0xd7)](_0x558c95(0x93),_0x37dfbf),hideSpinner();}}),$(a0_0x8c3abf(0x87))['on'](a0_0x8c3abf(0x73),function(){const _0x2cac6e=a0_0x8c3abf;if($('#resultContainerDownloadDates')[_0x2cac6e(0x8b)]()[_0x2cac6e(0xb4)]===0x0){alert('No\x20hay\x20datos\x20para\x20descargar.');return;}exportResultContainerToCSV('Resultado.csv');});const getToken=()=>{const _0x558528=a0_0x8c3abf;if(localStorage[_0x558528(0x80)]('token'))return localStorage[_0x558528(0x80)](_0x558528(0x76));$[_0x558528(0x7c)]({'url':hostLogin,'type':'POST','contentType':_0x558528(0x75),'data':JSON[_0x558528(0xb3)](dataLogin),'success':function(_0x1413dc){const _0x58ee37=_0x558528,_0x48d0be=_0x1413dc[_0x58ee37(0x76)];return localStorage[_0x58ee37(0x8d)](_0x58ee37(0x76),_0x48d0be),_0x48d0be;},'error':function(_0x84aac4){const _0x2c56fc=_0x558528;return console[_0x2c56fc(0xd7)](_0x2c56fc(0xb1),_0x84aac4),null;}});},getParams=_0x16772e=>{const _0x32f6fb=a0_0x8c3abf;return encodeURIComponent(JSON['stringify']({'Nombre':_0x32f6fb(0xcd),'Descripcion':_0x32f6fb(0xcd),'SentenciaSQL':'','Estado':_0x32f6fb(0x7f),'Parametros':[{'Nombre':_0x32f6fb(0xc3),'Campo':'GENPACIEN.PACNUMDOC\x20=','Tipo':'String','DbNombre':_0x32f6fb(0xc3),'DbNombreCompleto':_0x32f6fb(0x9c),'DbTamano':0x1e,'DbTipo':_0x32f6fb(0x6e),'Valor':_0x16772e,'Oid':0x1,'IdBloqueo':null,'RegistroEliminado':![],'OidResult':null}],'formato':_0x32f6fb(0x9b),'SerializadoXml':!![],'Oid':0x1a,'IdBloqueo':null,'RegistroEliminado':![],'OidResult':null}));},readExcelFromBlob=_0x2230eb=>{const _0x1d7bae=a0_0x8c3abf,_0x1ac453=new FileReader();_0x1ac453['onload']=function(_0x4738ca){const _0x3cc849=a0_0x48f3,_0x5d5ece=new Uint8Array(_0x4738ca[_0x3cc849(0xb0)]['result']),_0x3fb23b=XLSX[_0x3cc849(0x69)](_0x5d5ece,{'type':_0x3cc849(0x89)}),_0x275bbf=_0x3fb23b[_0x3cc849(0xc5)][0x0],_0x2f2e9a=_0x3fb23b[_0x3cc849(0x9f)][_0x275bbf],_0x5918a6=XLSX[_0x3cc849(0x7e)][_0x3cc849(0xbf)](_0x2f2e9a,{'header':0x1});_0x5918a6['forEach']((_0x37d8ca,_0x178b4c)=>{const _0x22b48d=_0x3cc849;if(_0x178b4c>0x0){let _0x15b24f=_0x37d8ca[0x1],_0x293a53=_0x37d8ca[0x2]+'\x20'+_0x37d8ca[0x3]+'\x20'+_0x37d8ca[0x4]+'\x20'+_0x37d8ca[0x5],_0x573479=_0x37d8ca[0x6],_0x169ee6=_0x37d8ca[0x8],_0x253757=_0x37d8ca[0x9],_0x1b0643=_0x37d8ca[0x14],_0x30e35f=_0x37d8ca[0x15],_0x4fd5e4=excelDateToJSDate(_0x37d8ca[0x1e]);$(_0x22b48d(0xd8))['append'](_0x22b48d(0x9d)+_0x15b24f+',\x20'+_0x293a53+',\x20'+_0x573479+',\x20'+_0x169ee6+',\x20'+_0x253757+',\x20'+_0x1b0643+',\x20'+_0x30e35f+',\x20'+excelDateToJSDate(_0x4fd5e4)+_0x22b48d(0xd0));}});},_0x1ac453[_0x1d7bae(0x99)](_0x2230eb);},excelDateToJSDate=_0x56f52a=>{const _0x26090f=a0_0x8c3abf,_0x460a9d=_0x56f52a-0x63e1,_0x5377bb=_0x460a9d*0x15180,_0x14bb26=new Date(_0x5377bb*0x3e8),_0x1e0f40=String(_0x14bb26[_0x26090f(0xda)]())[_0x26090f(0x7d)](0x2,'0'),_0x545053=String(_0x14bb26['getUTCMonth']()+0x1)['padStart'](0x2,'0'),_0x3accf8=_0x14bb26['getUTCFullYear']();return _0x1e0f40+'/'+_0x545053+'/'+_0x3accf8;},getDocument=_0x517d72=>{const _0x9ec972=a0_0x8c3abf;return $(_0x9ec972(0xd8))[_0x9ec972(0x8b)]()[_0x9ec972(0xb4)]===0x0&&$(_0x9ec972(0xd8))['append'](_0x9ec972(0xba)),new Promise(_0x254c8f=>{const _0x3fcf29=_0x9ec972;$['ajax']({'url':hostDocument,'type':_0x3fcf29(0x79),'headers':{'repparams':getParams(_0x517d72),'Authorization':_0x3fcf29(0x6b)+getToken()},'xhrFields':{'responseType':_0x3fcf29(0xd6)},'success':function(_0x3c75c6){const _0x5be1e1=_0x3fcf29,_0x2b798f=new FileReader();_0x2b798f[_0x5be1e1(0x7b)]=function(_0x58d32e){const _0x415cf1=_0x5be1e1,_0x39f009=new Uint8Array(_0x58d32e['target'][_0x415cf1(0x8e)]),_0x1cb48a=XLSX[_0x415cf1(0x69)](_0x39f009,{'type':'array'}),_0x4dad1c=_0x1cb48a['SheetNames'][0x0],_0x58c749=_0x1cb48a[_0x415cf1(0x9f)][_0x4dad1c],_0x1ba7a1=XLSX[_0x415cf1(0x7e)][_0x415cf1(0xbf)](_0x58c749,{'header':0x1});let _0x2b6160=![],_0x82372b=[];_0x1ba7a1[_0x415cf1(0xc9)]((_0x21c176,_0x3a96c4)=>{const _0x1092f8=_0x415cf1;if(_0x3a96c4>0x0){const _0x1c7c31=_0x21c176[0x1],_0x24085e=replaceAccents(_0x21c176[0x2]+'\x20'+_0x21c176[0x3]+'\x20'+_0x21c176[0x4]+'\x20'+_0x21c176[0x5]),_0x49ff5e=_0x21c176[0x6],_0x2a9213=replaceAccents(_0x21c176[0x8]),_0x2156bc=replaceAccents(_0x21c176[0x9]),_0x29ada3=_0x21c176[0x14],_0x4b5eeb=replaceAccents(_0x21c176[0x15]),_0x3ecd7b=excelDateToJSDate(_0x21c176[0x1e]);if(noImprimir[_0x1092f8(0x9a)](_0x59bdc8=>_0x4b5eeb[_0x1092f8(0x71)](_0x59bdc8['toUpperCase']())))return;if(!_0x1c7c31){$(_0x1092f8(0xd8))[_0x1092f8(0x68)](_0x1092f8(0x9d)+_0x517d72+_0x1092f8(0xaa)),_0x2b6160=!![];return;}!_0x82372b[_0x1092f8(0x71)](_0x29ada3)&&$('#resultContainerDownloadDates')[_0x1092f8(0x68)](_0x1092f8(0x9d)+_0x1c7c31+';\x20'+_0x24085e+';\x20'+_0x49ff5e+';\x20'+_0x2a9213+';\x20'+_0x2156bc+';\x20'+_0x29ada3+';\x20'+_0x4b5eeb+';\x20'+_0x3ecd7b+_0x1092f8(0xd0)),_0x82372b[_0x1092f8(0x72)](_0x29ada3),_0x2b6160=!![];}}),!_0x2b6160&&$('#resultContainerDownloadDates')[_0x415cf1(0x68)](_0x415cf1(0x9d)+_0x517d72+';\x20sin\x20PM</p>');},_0x2b798f[_0x5be1e1(0x99)](_0x3c75c6),_0x254c8f();},'error':function(_0x373b2a){const _0x30e17d=_0x3fcf29;console[_0x30e17d(0xd7)](_0x30e17d(0xc1),_0x373b2a),_0x254c8f();}});});},exportResultContainerToCSV=_0x3f009c=>{const _0xbc59ca=a0_0x8c3abf,_0xc8e5e2=[];$(_0xbc59ca(0xd8))[_0xbc59ca(0x8b)]()[_0xbc59ca(0xc2)](function(){const _0x1732fc=_0xbc59ca,_0x58994a=$(this)[_0x1732fc(0x95)]()[_0x1732fc(0xa0)]();_0x58994a&&_0xc8e5e2[_0x1732fc(0x72)](_0x58994a);});const _0x2f4c80=_0xc8e5e2[_0xbc59ca(0x84)]('\x0a'),_0x79965e=new Blob([_0x2f4c80],{'type':'text/csv;charset=utf-8;'}),_0x408105=document[_0xbc59ca(0xab)]('a'),_0x1797e3=URL['createObjectURL'](_0x79965e);_0x408105[_0xbc59ca(0xc6)](_0xbc59ca(0x98),_0x1797e3),_0x408105[_0xbc59ca(0xc6)](_0xbc59ca(0xae),_0x3f009c+_0xbc59ca(0x92)),_0x408105[_0xbc59ca(0xcc)]['visibility']=_0xbc59ca(0xa1),document[_0xbc59ca(0x90)]['appendChild'](_0x408105),_0x408105[_0xbc59ca(0x73)](),document[_0xbc59ca(0x90)][_0xbc59ca(0x9e)](_0x408105);},replaceAccents=_0x3a2ed4=>{const _0xc723ff=a0_0x8c3abf;if(!_0x3a2ed4)return'';return _0x3a2ed4[_0xc723ff(0xd9)](_0xc723ff(0xd1))[_0xc723ff(0x6a)](/[\u0300-\u036f]/g,'');},processDates=_0x3cda86=>{return _0x3cda86['map'](_0x284df1=>{const _0x3c5e2f=a0_0x48f3,_0x34d032=_0x284df1[_0x3c5e2f(0xb6)]('/');if(_0x34d032[_0x3c5e2f(0xb4)]!==0x3)return'Fecha\x20inválida';let [_0x4136e4,_0x15767,_0x10096c]=_0x34d032[_0x3c5e2f(0x66)](_0x413c97=>parseInt(_0x413c97,0xa));if(_0x15767>0xc)return _0x15767+'/'+_0x4136e4+'/'+_0x10096c;return _0x4136e4+'/'+_0x15767+'/'+_0x10096c;});};$(a0_0x8c3abf(0x81))['on'](a0_0x8c3abf(0xad),async function(_0x25d2f7){const _0x255bfb=a0_0x8c3abf;_0x25d2f7[_0x255bfb(0xd2)](),showSpinner(),$(_0x255bfb(0x77))['empty']();let _0x3909d0=$(_0x255bfb(0xbe))[_0x255bfb(0xd4)]()[_0x255bfb(0x6a)](/[\n\r]+/g,',')[_0x255bfb(0xb6)](',');_0x3909d0=_0x3909d0[_0x255bfb(0x66)](_0x3ed096=>_0x3ed096[_0x255bfb(0xa0)]()),_0x3909d0=_0x3909d0[_0x255bfb(0x7a)](_0x92780e=>_0x92780e!=='');const _0x28d968=processDates(_0x3909d0);_0x28d968[_0x255bfb(0xc9)](_0x306b3f=>{const _0x3c9944=_0x255bfb;$(_0x3c9944(0x77))[_0x3c9944(0x68)](_0x306b3f+_0x3c9944(0xb5));}),$('#resultContainerFormatDatesCard')[_0x255bfb(0xd5)](_0x255bfb(0xbb)),hideSpinner();}),$('#copyFormattedDates')['on'](a0_0x8c3abf(0x73),function(){const _0x37b6d3=a0_0x8c3abf,_0x42f492=$(_0x37b6d3(0x77))['html']()['trim']();if(_0x42f492){const _0x250af5=_0x42f492[_0x37b6d3(0xb6)](_0x37b6d3(0xb9))[_0x37b6d3(0x66)](_0x5b0755=>_0x5b0755[_0x37b6d3(0xa0)]())[_0x37b6d3(0x7a)](_0xbed5b0=>_0xbed5b0!=='')['join']('\x0a');navigator['clipboard'][_0x37b6d3(0x8c)](_0x250af5)['then'](()=>{const _0x46c9c0=_0x37b6d3;alert(_0x46c9c0(0x78));})[_0x37b6d3(0x67)](_0x2c1146=>{const _0x53b516=_0x37b6d3;console['error'](_0x53b516(0x85),_0x2c1146),alert(_0x53b516(0x8f));});}else alert(_0x37b6d3(0x74));}),$(a0_0x8c3abf(0x94))['on']('submit',async function(_0x2b4f65){const _0x20f94f=a0_0x8c3abf;_0x2b4f65[_0x20f94f(0xd2)]();const _0x1a4129=new FormData(this),_0x480e75=document[_0x20f94f(0xa3)](_0x20f94f(0xcb)),_0x31677=_0x480e75['files'][0x0][_0x20f94f(0x96)];showSpinner(),$['ajax']({'url':_0x20f94f(0xc0),'type':_0x20f94f(0xa4),'headers':{'Authorization':_0x20f94f(0x6b)+getToken()},'data':_0x1a4129,'processData':![],'contentType':![],'success':function(_0x5f30eb){const _0x517bdc=_0x20f94f,_0x4363d2=document[_0x517bdc(0xab)]('a');_0x4363d2['href']=_0x517bdc(0xb8)+_0x5f30eb,_0x4363d2['download']='reporte-'+_0x31677,document[_0x517bdc(0x90)][_0x517bdc(0xa7)](_0x4363d2),_0x4363d2[_0x517bdc(0x73)](),document[_0x517bdc(0x90)][_0x517bdc(0x9e)](_0x4363d2),hideSpinner();},'error':function(_0x5b6b1d){const _0x55f1b7=_0x20f94f;console[_0x55f1b7(0xd7)](_0x55f1b7(0xc1),_0x5b6b1d),hideSpinner();}});});