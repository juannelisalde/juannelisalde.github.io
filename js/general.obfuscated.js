const a0_0x2431ba=a0_0x33a8;(function(_0x173037,_0xfd0747){const _0x579f7f=a0_0x33a8,_0x2dab6c=_0x173037();while(!![]){try{const _0x3a3b79=-parseInt(_0x579f7f(0xec))/0x1*(parseInt(_0x579f7f(0xd8))/0x2)+-parseInt(_0x579f7f(0x127))/0x3*(-parseInt(_0x579f7f(0xd6))/0x4)+parseInt(_0x579f7f(0x11b))/0x5+-parseInt(_0x579f7f(0xe6))/0x6*(parseInt(_0x579f7f(0x115))/0x7)+parseInt(_0x579f7f(0xfd))/0x8*(parseInt(_0x579f7f(0x111))/0x9)+parseInt(_0x579f7f(0x107))/0xa*(-parseInt(_0x579f7f(0xea))/0xb)+-parseInt(_0x579f7f(0x123))/0xc;if(_0x3a3b79===_0xfd0747)break;else _0x2dab6c['push'](_0x2dab6c['shift']());}catch(_0x1b0f4e){_0x2dab6c['push'](_0x2dab6c['shift']());}}}(a0_0x59f5,0xda5ff));function a0_0x33a8(_0x5407f5,_0x475ce6){const _0x59f5cc=a0_0x59f5();return a0_0x33a8=function(_0x33a89b,_0x538e5f){_0x33a89b=_0x33a89b-0xca;let _0x1ded7a=_0x59f5cc[_0x33a89b];return _0x1ded7a;},a0_0x33a8(_0x5407f5,_0x475ce6);}const hostLogin=a0_0x2431ba(0x124),dataLogin={'oidUsuario':0x1,'oidCentroAtencion':0x1},hostDocument=a0_0x2431ba(0xe7),hostFolio=a0_0x2431ba(0x10d);let allData=[];const noPrintEspecialidad=[a0_0x2431ba(0xf4)],noPrintDiagnostico=[a0_0x2431ba(0x120)],noImprimir=[a0_0x2431ba(0xdc),'URGENCIAS',a0_0x2431ba(0xde)],showSpinner=()=>{$('#spinner')['removeClass']('d-none');},hideSpinner=()=>{const _0x38602e=a0_0x2431ba;$('#spinner')[_0x38602e(0x10c)](_0x38602e(0xfa));};function a0_0x59f5(){const _0x3c10e3=['normalize','92343qoTIWb','readAsArrayBuffer','Activo','text','each','join','padStart','Bearer\x20','sort','<p><b>PACNUMDOC;\x20NOMBRE;\x20SEXO;\x20EDAD_ACTUAL;\x20EDAD_SERVICIO;\x20SIPCODIGO;\x20SIPNOMBRE;\x20SERFECSER</b></p>','length','stringify','filter','preventDefault','188OmbPjj','Error\x20al\x20obtener\x20el\x20token:','113626vgKxko','</p>','Error\x20al\x20obtener\x20el\x20documento:','split','CONSULTA\x20EXTERNA','replace','TRIAGE','SERVICIOS\x20PRESTADOS\x20A\x20PACIENTES','POST','href','#formDocuments','getUTCMonth','onload','Sheets','10555662FoiMYi','https://citas.usiese.gov.co:6007/api/Generales/ApiGeReporteGenerado/ExportarReporte','array','<p>','209qmSNuM','utils','5YXOvur',';\x20sin\x20PM</p>','click','append','getUTCFullYear','forEach','test','#resultContainer','ODONTOLOGIA\x20GENERAL','includes','createElement','visibility','val','hidden','d-none','setAttribute','No\x20hay\x20datos\x20para\x20descargar.','8JrBxKM','target','application/json','children','input','ajax','token','getItem','NFD','some','514190jlLIHI','empty','push','toUpperCase','body','addClass','https://citas.usiese.gov.co:6007/api/HistoriaClinica/HistoriaClinicaConsulta/ObtenerHistoricoFolios/?oidIngreso=0&directivas=true&hcUnificada=false&id=',';\x20sin\x20citas</p>','#documents','style','14225157QMfVwV','submit','DOCUMENTO','error','7kyKsuQ','trim','#downloadCSV','SheetNames','Resultado.csv','createObjectURL','5225820LVrnrg','read','text/csv;charset=utf-8;','appendChild','result','CARIES\x20DE\x20LA\x20DENTINA','Error\x20al\x20procesar\x20los\x20documentos:','removeChild','1892136YnrVFI','https://citas.usiese.gov.co:6007/api/Generales/ApiGeSeguridad/IniciarSesionCentroAtencion','getUTCDate'];a0_0x59f5=function(){return _0x3c10e3;};return a0_0x59f5();}$(a0_0x2431ba(0x10f))['on'](a0_0x2431ba(0x101),function(){const _0x5450cf=a0_0x2431ba,_0x176a06=/^[0-9,\s]*$/;let _0x621c11=$(this)[_0x5450cf(0xf8)]();_0x621c11=_0x621c11['replace'](/[\n\r]+/g,','),!_0x176a06[_0x5450cf(0xf2)](_0x621c11)&&(_0x621c11=_0x621c11[_0x5450cf(0xdd)](/[^0-9,\s,]/g,'')),$(this)[_0x5450cf(0xf8)](_0x621c11);}),$(a0_0x2431ba(0xe2))['on'](a0_0x2431ba(0x112),async function(_0x55364a){const _0x441148=a0_0x2431ba;_0x55364a[_0x441148(0xd5)](),$('#resultContainer')[_0x441148(0x108)](),allData=[];let _0x3b7284=$(_0x441148(0x10f))['val']()[_0x441148(0xdb)](',');_0x3b7284=_0x3b7284['map'](_0x1d0803=>_0x1d0803[_0x441148(0x116)]()),_0x3b7284[_0x441148(0xd0)]((_0x4f9763,_0x176a18)=>_0x4f9763-_0x176a18),_0x3b7284=[...new Set(_0x3b7284)],_0x3b7284=_0x3b7284[_0x441148(0xd4)](_0x3216de=>_0x3216de!==''&&_0x3216de[_0x441148(0xd2)]>0x0);if(_0x3b7284[_0x441148(0xd2)]===0x0){alert('No\x20se\x20encontraron\x20documentos\x20vÃ¡lidos.');return;}showSpinner();try{await Promise['all'](_0x3b7284['map'](_0x35e355=>getDocument(_0x35e355))),hideSpinner();}catch(_0x5da2ff){console[_0x441148(0x114)](_0x441148(0x121),_0x5da2ff),hideSpinner();}}),$(a0_0x2431ba(0x117))['on'](a0_0x2431ba(0xee),function(){const _0x5c1251=a0_0x2431ba;if($('#resultContainer')['children']()[_0x5c1251(0xd2)]===0x0){alert(_0x5c1251(0xfc));return;}exportResultContainerToCSV(_0x5c1251(0x119));});const getToken=()=>{const _0x3cf36a=a0_0x2431ba;if(localStorage['getItem'](_0x3cf36a(0x103)))return localStorage[_0x3cf36a(0x104)](_0x3cf36a(0x103));$[_0x3cf36a(0x102)]({'url':hostLogin,'type':_0x3cf36a(0xe0),'contentType':_0x3cf36a(0xff),'data':JSON['stringify'](dataLogin),'success':function(_0x10e910){const _0x47f614=_0x3cf36a,_0x32ccff=_0x10e910['token'];return localStorage['setItem'](_0x47f614(0x103),_0x32ccff),_0x32ccff;},'error':function(_0x512f4f){const _0x24801e=_0x3cf36a;return console[_0x24801e(0x114)](_0x24801e(0xd7),_0x512f4f),null;}});},getParams=_0x1295c7=>{const _0x4366e2=a0_0x2431ba;return encodeURIComponent(JSON[_0x4366e2(0xd3)]({'Nombre':'SERVICIOS\x20PRESTADOS\x20A\x20PACIENTES','Descripcion':_0x4366e2(0xdf),'SentenciaSQL':'','Estado':_0x4366e2(0xca),'Parametros':[{'Nombre':_0x4366e2(0x113),'Campo':'GENPACIEN.PACNUMDOC\x20=','Tipo':'String','DbNombre':_0x4366e2(0x113),'DbNombreCompleto':'@DOCUMENTO','DbTamano':0x1e,'DbTipo':'String','Valor':_0x1295c7,'Oid':0x1,'IdBloqueo':null,'RegistroEliminado':![],'OidResult':null}],'formato':'XLSX\x20PLANO','SerializadoXml':!![],'Oid':0x1a,'IdBloqueo':null,'RegistroEliminado':![],'OidResult':null}));},readExcelFromBlob=_0x91e932=>{const _0x1fefe2=a0_0x2431ba,_0x13d5ae=new FileReader();_0x13d5ae[_0x1fefe2(0xe4)]=function(_0x426297){const _0x1ec1ee=_0x1fefe2,_0x395e3d=new Uint8Array(_0x426297['target'][_0x1ec1ee(0x11f)]),_0x5a3616=XLSX[_0x1ec1ee(0x11c)](_0x395e3d,{'type':_0x1ec1ee(0xe8)}),_0x34e982=_0x5a3616[_0x1ec1ee(0x118)][0x0],_0x29e7b3=_0x5a3616[_0x1ec1ee(0xe5)][_0x34e982],_0x4fefca=XLSX[_0x1ec1ee(0xeb)]['sheet_to_json'](_0x29e7b3,{'header':0x1});_0x4fefca[_0x1ec1ee(0xf1)]((_0x5a0f9b,_0x482afd)=>{const _0x5a6d92=_0x1ec1ee;if(_0x482afd>0x0){let _0x29605b=_0x5a0f9b[0x1],_0x200b30=_0x5a0f9b[0x2]+'\x20'+_0x5a0f9b[0x3]+'\x20'+_0x5a0f9b[0x4]+'\x20'+_0x5a0f9b[0x5],_0x2da7b5=_0x5a0f9b[0x6],_0x3fdbb1=_0x5a0f9b[0x8],_0x13cf5d=_0x5a0f9b[0x9],_0x1d6dac=_0x5a0f9b[0x14],_0x4f3883=_0x5a0f9b[0x15],_0x53741d=excelDateToJSDate(_0x5a0f9b[0x1e]);$(_0x5a6d92(0xf3))[_0x5a6d92(0xef)](_0x5a6d92(0xe9)+_0x29605b+',\x20'+_0x200b30+',\x20'+_0x2da7b5+',\x20'+_0x3fdbb1+',\x20'+_0x13cf5d+',\x20'+_0x1d6dac+',\x20'+_0x4f3883+',\x20'+excelDateToJSDate(_0x53741d)+_0x5a6d92(0xd9));}});},_0x13d5ae[_0x1fefe2(0x128)](_0x91e932);},excelDateToJSDate=_0x387ba1=>{const _0x1eeec2=a0_0x2431ba,_0x51b14c=_0x387ba1-0x63e1,_0x2a8267=_0x51b14c*0x15180,_0x393499=new Date(_0x2a8267*0x3e8),_0x2c7ba8=String(_0x393499[_0x1eeec2(0x125)]())[_0x1eeec2(0xce)](0x2,'0'),_0x13f9af=String(_0x393499[_0x1eeec2(0xe3)]()+0x1)[_0x1eeec2(0xce)](0x2,'0'),_0x1b0d09=_0x393499[_0x1eeec2(0xf0)]();return _0x2c7ba8+'/'+_0x13f9af+'/'+_0x1b0d09;},getDocument=_0x1cc85c=>{const _0x2348eb=a0_0x2431ba;return $(_0x2348eb(0xf3))[_0x2348eb(0x100)]()[_0x2348eb(0xd2)]===0x0&&$('#resultContainer')['append'](_0x2348eb(0xd1)),new Promise(_0x17d8cf=>{const _0xa04d02=_0x2348eb;$[_0xa04d02(0x102)]({'url':hostDocument,'type':'GET','headers':{'repparams':getParams(_0x1cc85c),'Authorization':_0xa04d02(0xcf)+getToken()},'xhrFields':{'responseType':'blob'},'success':function(_0x81ed3e){const _0x1d9449=new FileReader();_0x1d9449['onload']=function(_0x3256dd){const _0x4e5810=a0_0x33a8,_0x55229b=new Uint8Array(_0x3256dd[_0x4e5810(0xfe)][_0x4e5810(0x11f)]),_0x2b2b9d=XLSX['read'](_0x55229b,{'type':_0x4e5810(0xe8)}),_0x430073=_0x2b2b9d[_0x4e5810(0x118)][0x0],_0x3b822d=_0x2b2b9d[_0x4e5810(0xe5)][_0x430073],_0x4fadb1=XLSX[_0x4e5810(0xeb)]['sheet_to_json'](_0x3b822d,{'header':0x1});let _0x21d52d=![];_0x4fadb1[_0x4e5810(0xf1)]((_0x25ceda,_0x1f13bc)=>{const _0x3f2a77=_0x4e5810;if(_0x1f13bc>0x0){const _0x22617b=_0x25ceda[0x1],_0x293893=replaceAccents(_0x25ceda[0x2]+'\x20'+_0x25ceda[0x3]+'\x20'+_0x25ceda[0x4]+'\x20'+_0x25ceda[0x5]),_0x5a17da=_0x25ceda[0x6],_0x586de2=replaceAccents(_0x25ceda[0x8]),_0x1d8e11=replaceAccents(_0x25ceda[0x9]),_0x71a661=_0x25ceda[0x14],_0x1f3fa2=replaceAccents(_0x25ceda[0x15]),_0x5a933f=excelDateToJSDate(_0x25ceda[0x1e]);if(noImprimir[_0x3f2a77(0x106)](_0x2496a3=>_0x1f3fa2[_0x3f2a77(0xf5)](_0x2496a3[_0x3f2a77(0x10a)]())))return;if(!_0x22617b){$('#resultContainer')[_0x3f2a77(0xef)](_0x3f2a77(0xe9)+_0x1cc85c+_0x3f2a77(0x10e)),_0x21d52d=!![];return;}$(_0x3f2a77(0xf3))[_0x3f2a77(0xef)](_0x3f2a77(0xe9)+_0x22617b+';\x20'+_0x293893+';\x20'+_0x5a17da+';\x20'+_0x586de2+';\x20'+_0x1d8e11+';\x20'+_0x71a661+';\x20'+_0x1f3fa2+';\x20'+_0x5a933f+_0x3f2a77(0xd9)),_0x21d52d=!![];}}),!_0x21d52d&&$(_0x4e5810(0xf3))['append'](_0x4e5810(0xe9)+_0x1cc85c+_0x4e5810(0xed));},_0x1d9449['readAsArrayBuffer'](_0x81ed3e),_0x17d8cf();},'error':function(_0x460d22){const _0x2250a7=_0xa04d02;console[_0x2250a7(0x114)](_0x2250a7(0xda),_0x460d22),_0x17d8cf();}});});},exportResultContainerToCSV=_0x1d0130=>{const _0x2084d3=a0_0x2431ba,_0x522edd=[];$('#resultContainer')[_0x2084d3(0x100)]()[_0x2084d3(0xcc)](function(){const _0x547dd8=_0x2084d3,_0x4655da=$(this)[_0x547dd8(0xcb)]()['trim']();_0x4655da&&_0x522edd[_0x547dd8(0x109)](_0x4655da);});const _0x44c6e9=_0x522edd[_0x2084d3(0xcd)]('\x0a'),_0x3966f3=new Blob([_0x44c6e9],{'type':_0x2084d3(0x11d)}),_0x54234d=document[_0x2084d3(0xf6)]('a'),_0x2e6f32=URL[_0x2084d3(0x11a)](_0x3966f3);_0x54234d['setAttribute'](_0x2084d3(0xe1),_0x2e6f32),_0x54234d[_0x2084d3(0xfb)]('download',_0x1d0130+'.csv'),_0x54234d[_0x2084d3(0x110)][_0x2084d3(0xf7)]=_0x2084d3(0xf9),document['body'][_0x2084d3(0x11e)](_0x54234d),_0x54234d[_0x2084d3(0xee)](),document[_0x2084d3(0x10b)][_0x2084d3(0x122)](_0x54234d);},replaceAccents=_0xee98d3=>{const _0x10d47d=a0_0x2431ba;if(!_0xee98d3)return'';return _0xee98d3[_0x10d47d(0x126)](_0x10d47d(0x105))[_0x10d47d(0xdd)](/[\u0300-\u036f]/g,'');};